{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const loaderContainer = document.getElementById('loader-container');\n  hideLoader(loaderContainer);\n\n  const searchForm = document.getElementById('searchForm');\n  const searchInput = document.getElementById('searchInput');\n  // const startBtn = document.querySelector('.btn');\n  const gallery = document.getElementById('gallery');\n\n  const apiKey = '41934305-8f787e974a2ef1238ff7fef77';\n\n  searchForm.addEventListener('submit', function (e) {\n    e.preventDefault();\n\n    showLoader(loaderContainer);\n\n    const searchTerm = searchInput.value.trim();\n    if (searchTerm === '') {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please enter a search term',\n      });\n      hideLoader(loaderContainer);\n      return;\n    }\n\n    const apiUrl = 'https://pixabay.com/api/';\n    const requestData = {\n      key: apiKey,\n      q: searchTerm,\n      image_type: 'photo',\n      safesearch: true,\n      orientation: 'horizontal',\n      per_page: 9,\n    };\n\n    fetch(`${apiUrl}?${new URLSearchParams(requestData)}`)\n      .then(response => response.json())\n      .then(data => {\n        if (data.hits.length === 0) {\n          iziToast.error({\n            title: 'Error',\n            message: 'No images found for the provided search term',\n          });\n        } else {\n          displayImages(data.hits);\n        }\n      })\n      .catch(() => {\n        iziToast.error({\n          title: 'Error',\n          message: 'Failed to fetch images. Please try again later.',\n        });\n      })\n      .finally(() => {\n        hideLoader(loaderContainer);\n      });\n  });\n\n  function showLoader(loaderContainer) {\n    if (loaderContainer) {\n      loaderContainer.style.display = 'block';\n    }\n  }\n\n  function hideLoader(loaderContainer) {\n    if (loaderContainer) {\n      loaderContainer.style.display = 'none';\n    }\n  }\n\n  function displayImages(images) {\n    gallery.innerHTML = '';\n\n    if (images.length === 0) {\n      iziToast.info({\n        title: 'Info',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n      hideLoader();\n      return;\n    }\n\n    images.forEach(image => {\n      const card = document.createElement('div');\n      card.className = 'gallery-item';\n\n      card.innerHTML = `\n      <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\" data-title=\"Likes: ${image.likes}, Views: ${image.views}, Comments: ${image.comments}, Downloads: ${image.downloads}\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" data-src=\"${image.largeImageURL}\" data-caption=\"Likes: ${image.likes}, Views: ${image.views}, Comments: ${image.comments}, Downloads: ${image.downloads}\">\n        </a>\n        <div class=\"image-stats\">\n      <div class=\"stat-item\">\n        <p class=\"stat-label\">Likes:</p>\n        <p class=\"stat-value\">${image.likes}</p>\n      </div>\n      <div class=\"stat-item\">\n        <p class=\"stat-label\">Views:</p>\n        <p class=\"stat-value\">${image.views}</p>\n      </div>\n      <div class=\"stat-item\">\n        <p class=\"stat-label\">Comments:</p>\n        <p class=\"stat-value\">${image.comments}</p>\n      </div>\n      <div class=\"stat-item\">\n        <p class=\"stat-label\">Downloads:</p>\n        <p class=\"stat-value\">${image.downloads}</p>\n      </div>\n    </div>\n      `;\n\n      gallery.appendChild(card);\n    });\n\n    const lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n\n    lightbox.refresh();\n  }\n});\n"],"names":["loaderContainer","hideLoader","searchForm","searchInput","gallery","apiKey","e","showLoader","searchTerm","iziToast","apiUrl","requestData","response","data","displayImages","images","image","card","SimpleLightbox"],"mappings":"6vBAUA,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMA,EAAkB,SAAS,eAAe,kBAAkB,EAClEC,EAAWD,CAAe,EAE1B,MAAME,EAAa,SAAS,eAAe,YAAY,EACjDC,EAAc,SAAS,eAAe,aAAa,EAEnDC,EAAU,SAAS,eAAe,SAAS,EAE3CC,EAAS,qCAEfH,EAAW,iBAAiB,SAAU,SAAUI,EAAG,CACjDA,EAAE,eAAc,EAEhBC,EAAWP,CAAe,EAE1B,MAAMQ,EAAaL,EAAY,MAAM,KAAI,EACzC,GAAIK,IAAe,GAAI,CACrBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4BACjB,CAAO,EACDR,EAAWD,CAAe,EAC1B,MACD,CAED,MAAMU,EAAS,2BACTC,EAAc,CAClB,IAAKN,EACL,EAAGG,EACH,WAAY,QACZ,WAAY,GACZ,YAAa,aACb,SAAU,CAChB,EAEI,MAAM,GAAGE,KAAU,IAAI,gBAAgBC,CAAW,GAAG,EAClD,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBJ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8CACrB,CAAW,EAEDK,EAAcD,EAAK,IAAI,CAEjC,CAAO,EACA,MAAM,IAAM,CACXJ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iDACnB,CAAS,CACT,CAAO,EACA,QAAQ,IAAM,CACbR,EAAWD,CAAe,CAClC,CAAO,CACP,CAAG,EAED,SAASO,EAAWP,EAAiB,CAC/BA,IACFA,EAAgB,MAAM,QAAU,QAEnC,CAED,SAASC,EAAWD,EAAiB,CAC/BA,IACFA,EAAgB,MAAM,QAAU,OAEnC,CAED,SAASc,EAAcC,EAAQ,CAG7B,GAFAX,EAAQ,UAAY,GAEhBW,EAAO,SAAW,EAAG,CACvBN,EAAS,KAAK,CACZ,MAAO,OACP,QACE,0EACV,CAAO,EACDR,IACA,MACD,CAEDc,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAY,eAEjBA,EAAK,UAAY;AAAA,iBACND,EAAM,6DAA6DA,EAAM,iBAAiBA,EAAM,oBAAoBA,EAAM,wBAAwBA,EAAM;AAAA,sBACnJA,EAAM,sBAAsBA,EAAM,mBAAmBA,EAAM,uCAAuCA,EAAM,iBAAiBA,EAAM,oBAAoBA,EAAM,wBAAwBA,EAAM;AAAA;AAAA;AAAA;AAAA;AAAA,gCAK7KA,EAAM;AAAA;AAAA;AAAA;AAAA,gCAINA,EAAM;AAAA;AAAA;AAAA;AAAA,gCAINA,EAAM;AAAA;AAAA;AAAA;AAAA,gCAINA,EAAM;AAAA;AAAA;AAAA,QAKhCZ,EAAQ,YAAYa,CAAI,CAC9B,CAAK,EAEgB,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACpB,CAAK,EAEQ,QAAO,CACjB,CACH,CAAC"}